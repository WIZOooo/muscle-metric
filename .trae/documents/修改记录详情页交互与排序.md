# 修改记录详情页 (Record Details Page)

## 1. 基本信息可折叠 (Collapsible Basic Info)
- **目标**: 将「基本信息」区域改为可折叠，且默认折叠。
- **实现**:
  - 在 `TrainingRecordDetailView` 中添加状态变量 `@State private var isBasicInfoExpanded = false`。
  - 使用 `DisclosureGroup` 包裹原有的基本信息内容 (标题、时间、门店)。
  - `DisclosureGroup` 的标题设为 `Text("基本信息")`。

## 2. 训练动作排序优化 (Exercise Sorting)
- **目标**: 训练内容中，分类下的动作按照添加顺序倒序排列（后添加的在上面）。
- **实现**:
  - 修改 `groupedData` 中的排序逻辑。
  - 目前是按名称排序 (`actions.sort { ($0.tag.name ?? "") < ($1.tag.name ?? "") }`)。
  - 改为：获取每个动作 (`GroupedAction`) 下所有 `entries` 中最大的 `orderIndex`。
  - 按照这个最大 `orderIndex` 进行降序排列 (`>`)。这样最新添加过数据的动作会排在最前面。

## 3. 增加「全部折叠」按钮 (Collapse All Button)
- **目标**: 在「训练内容」标题右侧增加按钮，点击后折叠所有分类和动作。
- **实现**:
  - 修改 `Section(header: ...)`。
  - 将 header 改为 `HStack`：
    - 左侧: `Text("训练内容")`
    - 中间: `Spacer()`
    - 右侧: `Button("全部折叠")`。
  - 按钮点击事件: 清空 `expandedCategories` 和 `expandedActions` 集合。

## 4. 优化跳转点击范围 (Navigation Click Area)
- **目标**: 只有点击动作名称 (Label) 时才跳转详情，点击行内其他区域（如空白处）应触发展开/折叠。
- **实现**:
  - 检查 `DisclosureGroup` label 中的 `NavigationLink`。
  - 为 `NavigationLink` 添加 `.buttonStyle(.plain)` 或 `.buttonStyle(.borderless)` (视具体层级而定，通常 `.plain` 在 List 中能避免整行点击)。
  - 确保 `NavigationLink` 只包裹 `Text(actionGroup.tag.name ...)`，保持布局紧凑。

## 代码文件
- `MuscleMetric/Views/TrainingRecord/TrainingRecordDetailView.swift`
