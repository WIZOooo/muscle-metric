根据您的需求，我制定了以下计划来实现「在选择动作后展示该门店该动作最近一次的最大重量」的功能。

### 1. 修改文件
- `MuscleMetric/Views/TrainingRecord/AddTrainingRecordView.swift`

### 2. 具体步骤
1.  **引入 Core Data 上下文**：
    - 在 `AddEntrySheet` 视图中添加 `@Environment(\.managedObjectContext) var viewContext`，以便进行数据库查询。

2.  **添加状态变量**：
    - 在 `AddEntrySheet` 中添加 `@State private var lastRecordInfo: String = ""` 用于存储要显示的提示文本。

3.  **实现查询逻辑**：
    - 创建一个 `updateLastRecordInfo()` 方法。
    - 当 `selectedAction` 变化时触发该方法。
    - **查询条件**：
        - 查找 `TrainingRecord`（训练记录）。
        - 筛选条件：`gymTag` 等于当前门店，且包含当前动作的记录（使用 `SUBQUERY`）。
        - 排序：按 `timestamp` 倒序排列。
        - 限制：只取第 1 条（最近一次）。
    - **数据处理**：
        - 获取该记录中所有对应当前动作的 `TrainingEntry`。
        - 解析 `weightTag` 的数值，找出最大重量。
        - 格式化文本为：「yyyy/MM/dd 最大重量为xx」。
    - **更新状态**：将格式化后的文本赋值给 `lastRecordInfo`。

4.  **更新 UI 界面**：
    - 在 `AddEntrySheet` 的「选择重量」Section 中，或者作为该 Section 的 Footer，添加一个 `Text` 视图。
    - 设置字体为 `.caption`（小字），颜色为 `.secondary`（灰色）。
    - 绑定显示 `lastRecordInfo`。

### 3. 验证计划
- 运行应用，进入「添加动作页面」。
- 选择一个已有记录的门店和动作。
- 确认「选择重量」下方是否显示了正确的最近一次最大重量和日期。
- 切换不同动作，确认信息是否实时更新。
